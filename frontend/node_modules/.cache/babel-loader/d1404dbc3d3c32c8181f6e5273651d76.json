{"ast":null,"code":"var _jsxFileName = \"/Users/smoke/Desktop/EZTechWebsite/frontend/src/Screens/CartScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart } from \"../actions/CartActions\";\nimport MessageBox from \"../componets/MessageBox\";\nexport default function CartScreen(props) {\n  _s();\n\n  /* get the prodcut id from url params */\n  const productId = props.match.params.id;\n  /* split out the qty of the url params */\n\n  const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\n  /* use to get redux actions from within  */\n\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  /* Send request to backend */\n\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }, \"Shopping Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }, \"Cart is empty \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 43\n    }\n  }, \" Back to Products\"), \" \") : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, cartItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.name,\n    className: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mon-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 41\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: item.qty,\n    onChange: e => dispatch(addToCart(item.product), Number(e.target.value)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 41\n    }\n  }, [...Array(product.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 47\n    }\n  }, \" \", x + 1)))))))));\n}\n\n_s(CartScreen, \"1b/6BcrzFg90k2qO1tRu8krUc0E=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CartScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"sources":["/Users/smoke/Desktop/EZTechWebsite/frontend/src/Screens/CartScreen.js"],"names":["React","useEffect","useDispatch","useSelector","addToCart","MessageBox","CartScreen","props","productId","match","params","id","qty","location","search","Number","split","dispatch","cart","state","cartItems","length","map","item","product","image","name","e","target","value","Array","countInStock","keys","x"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart } from \"../actions/CartActions\";\nimport MessageBox from \"../componets/MessageBox\";\n\nexport default function CartScreen(props){\n\n    /* get the prodcut id from url params */\n    const productId = props.match.params.id;\n\n    /* split out the qty of the url params */\n    const qty = props.location.search? Number(props.location.search.split('=')[1]): 1 ;\n\n    /* use to get redux actions from within  */\n    const dispatch = useDispatch();\n\n    const cart = useSelector(state => state.cart);\n\n    const {cartItems} = cart;\n\n    /* Send request to backend */\n    useEffect(() => {\n\n        if(productId){\n\n            dispatch(addToCart(productId, qty));\n\n        }\n\n    }, [dispatch, productId, qty]);\n\n\n    return(\n\n        <div className=\"row top\">\n\n            <div className=\"col-2\">\n\n                <h1>Shopping Cart</h1>\n\n                {/*  check to see if cart has items in it, if not, provide link to homescreen */}\n                {cartItems.length === 0 ? \n                \n                <MessageBox>Cart is empty <Link to=\"/\"> Back to Products</Link> </MessageBox>:\n                (\n                    <ul>\n                        {\n                            cartItems.map((item) => (\n\n                                <li key={item.product}>\n\n                                    <div className=\"row\">\n                                        <img\n                                            src={item.image}\n                                            alt={item.name}\n                                            className=\"small\"\n                                        ></img>\n                                    </div>\n\n                                    <div className=\"mon-30\">\n                                        <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                    </div>\n\n                                    <div>\n                                        <select value={item.qty} onChange={e => dispatch(addToCart(item.product), Number(e.target.value))} >\n\n                                        {[...Array(product.countInStock).keys()].map((x) => (\n                                              \n                                              <option key={x + 1} value={x + 1}> {x + 1}\n                                              </option>\n                                            )\n                                          )}\n                                        </select>\n                                    </div>\n                                </li>\n                            ))}\n                    </ul>\n                )}\n            </div>\n            \n\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}