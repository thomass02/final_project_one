{"ast":null,"code":"var _jsxFileName = \"/Users/smoke/Desktop/EZTechWebsite/frontend/src/Screens/CartScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart } from \"../actions/CartActions\";\nimport MessageBox from \"../componets/MessageBox\";\nimport { Link } from \"react-router-dom\";\nexport default function CartScreen(props) {\n  _s();\n\n  /* get the prodcut id from url params */\n  const productId = props.match.params.id;\n  /* split out the qty of the url params */\n\n  const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\n  /* use to get redux actions from within  */\n\n  const dispatch = useDispatch();\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems\n  } = cart;\n  /* Send request to backend */\n\n  useEffect(() => {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n  /* remove from cart (delete function) */\n\n  const removeFromCart = id => {\n    //delete\n    dispatch(removeFromCart());\n  };\n  /* In Progress - Checkout button, add redirect for future */\n\n\n  const checkOut = () => {\n    props.history.push(\"/signin?redirct=shipping\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"Shopping Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(MessageBox, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Cart is empty \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 39\n    }\n  }, \"Go Back to Homescreen\")) : /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, cartItems.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: item.name,\n    className: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"min-30\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    value: item.qty,\n    onChange: e => dispatch(addToCart(item.product, Number(e.target.value))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 23\n    }\n  }, [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/React.createElement(\"option\", {\n    key: x + 1,\n    value: x + 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 27\n    }\n  }, x + 1)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 21\n    }\n  }, \"$\", item.price), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => removeFromCart(item.product),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 23\n    }\n  }, \"Delete\"))))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"Subtotal (\", cartItems.reduce((a, c) => a + c.qty, 0), \" items) : $\", cartItems.reduce((a, c) => a + c.price * c.qty, 0))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: checkOut,\n    className: \"primary block\",\n    disabled: cartItems.length === 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Proceed to Checkout\"))))));\n}\n\n_s(CartScreen, \"1b/6BcrzFg90k2qO1tRu8krUc0E=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CartScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"sources":["/Users/smoke/Desktop/EZTechWebsite/frontend/src/Screens/CartScreen.js"],"names":["React","useEffect","useDispatch","useSelector","addToCart","MessageBox","Link","CartScreen","props","productId","match","params","id","qty","location","search","Number","split","dispatch","cart","state","cartItems","removeFromCart","checkOut","history","push","length","map","item","product","image","name","e","target","value","Array","countInStock","keys","x","price","reduce","a","c"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addToCart } from \"../actions/CartActions\";\nimport MessageBox from \"../componets/MessageBox\";\nimport { Link } from \"react-router-dom\";\n\nexport default function CartScreen(props){\n\n    /* get the prodcut id from url params */\n    const productId = props.match.params.id;\n\n    /* split out the qty of the url params */\n    const qty = props.location.search? Number(props.location.search.split('=')[1]): 1 ;\n\n    /* use to get redux actions from within  */\n    const dispatch = useDispatch();\n\n    const cart = useSelector(state => state.cart);\n\n    const {cartItems} = cart;\n\n    /* Send request to backend */\n    useEffect(() => {\n\n        if(productId){\n\n            dispatch(addToCart(productId, qty));\n\n        }\n\n    }, [dispatch, productId, qty]);\n\n    /* remove from cart (delete function) */\n    const removeFromCart = (id) => {\n\n        //delete\n        dispatch(removeFromCart());\n    }\n\n    /* In Progress - Checkout button, add redirect for future */\n    const checkOut = () => {\n\n        props.history.push(\"/signin?redirct=shipping\");\n\n    }\n\n    return(\n\n        <div className=\"row top\">\n        <div className=\"col-2\">\n          <h1>Shopping Cart</h1>\n          {cartItems.length === 0 ? (\n            <MessageBox>Cart is empty <Link to=\"/\">Go Back to Homescreen</Link></MessageBox>) : (\n            <ul>\n              {cartItems.map((item) => (<li key={item.product}>\n                  <div className=\"row\">\n                    <div>\n                      <img\n                        src={item.image}\n                        alt={item.name}\n                        className=\"small\"\n                      ></img>\n                    </div>\n                    <div className=\"min-30\">\n                      <Link to={`/product/${item.product}`}>{item.name}</Link>\n                    </div>\n                    <div>\n                      <select\n                        value={item.qty}\n                        onChange={(e) => dispatch(addToCart(item.product, Number(e.target.value)))}>\n                        {[...Array(item.countInStock).keys()].map((x) => (\n                          <option key={x + 1} value={x + 1}>\n                            {x + 1}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div>${item.price}</div>\n                    <div>\n                      <button\n                        type=\"button\"\n                        onClick={() => removeFromCart(item.product)}>\n                        Delete\n                      </button>\n                    </div>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n        <div className=\"col-1\">\n          <div className=\"card card-body\">\n            <ul>\n              <li>\n                <h2>\n                  Subtotal ({cartItems.reduce((a, c) => a + c.qty, 0)} items) : $\n                  {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\n                </h2>\n              </li>\n              <li>\n                <button\n                  type=\"button\"\n                  onClick={checkOut}\n                  className=\"primary block\"\n                  disabled={cartItems.length === 0}\n                >\n                  Proceed to Checkout\n                </button>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }"]},"metadata":{},"sourceType":"module"}